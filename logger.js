angular.module("myTmoApp.logger",[]).run(["loggerService","LOGGER_OPTIONS","LOGGER_AJAX_OPTIONS",function(d,a,b){return d.o(a),navigator.onLine?void d.n(b):void d.l(b)}]);
angular.module("myTmoApp.logger").service("loggerService",["$http","$q","URL_CONSTS","$location","loggerAjaxService","loggerConsoleService",function(d,a,b,f,g,h){function k(){_.remove(c.getAppenders(),function(){return _.find(c.d(),{appenderName:"ajaxAppender"})})}var e=[],c=this;c.f=void 0;this.o=function(a){a&&(JL.__.setOptions({level:JL.getTraceLevel()}),c.f=JL("Rebellion"),c.f.setOptions(a))};this.n=function(a){var b=c.c();a&&b.setOptions(a);c.k(b);!1!==c.i()&&c.h(a)};this.l=function(a){k();c.i()||c.h(a)};this.h=function(a){var b=c.e();a&&b.setOptions(a);c.k(b)};this.k=function(a){a&&
(e.push(a),c.f.setOptions({appenders:c.d()}))};this.i=function(){return"true"===f.search().debug};this.d=function(){return e};this.c=function(){return g.c()};this.e=function(){return h.e()}}]).service("loggerAjaxService",function(){this.c=function(){return JL.createAjaxAppender("ajaxAppender")}}).service("loggerConsoleService",function(){this.e=function(){return JL.createConsoleAppender("consoleAppender")}}).service("$log",function(){this.log=function(){JL("Rebellion").trace(arguments)};this.debug=function(){JL("Rebellion").debug(arguments)};this.info=function(){JL("Rebellion").info(arguments)};
this.warn=function(){JL("Rebellion").warn(arguments)};this.error=function(){JL("Rebellion").error(arguments)}});angular.module("myTmoApp.logger").factory("logToServerInterceptor",["$q",function(d){return{request:function(a){return a.m=(new Date).getTime(),a},response:function(a){if(a.config.p){var b=(new Date).getTime()-a.config.m;b>a.config.p&&JL("Rebellion").warn({timeTakenInMs:b,config:a.config,data:a.data})}return a},responseError:function(a){var b="timeout";return 0!==a.status&&(b=a.data.ExceptionMessage),JL("Rebellion").fatalException({errorMessage:b,status:a.status,config:a.config},a.data),d.reject(a)}}}]);
